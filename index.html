<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Vilma OS</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="app">
    <aside class="sidebar">
      <div class="brand">
        <div class="logo">VO</div>
        <div>
          <h1>Vilma OS</h1>
          <p>Do the thing.</p>
        </div>
      </div>
      <div class="mode-toggle" id="modeToggle">
        <button class="chip active" data-mode="all">All</button>
        <button class="chip" data-mode="work">Work</button>
        <button class="chip" data-mode="private">Private</button>
      </div>
      <nav class="nav">
        <button class="nav-item active" data-view="today">Today</button>
        <button class="nav-item" data-view="inbox">Inbox</button>
        <button class="nav-item" data-view="week">Week</button>
        <button class="nav-item" data-view="routines">Routines</button>
        <button class="nav-item" data-view="history">History</button>
        <button class="nav-item" data-view="settings">Settings</button>
      </nav>
      <div class="sidebar-footer">
        <div class="energy-chip" id="energyChip">Energy: Yellow</div>
        <div class="shortcut-hint">
          <span>Shortcuts:</span>
          <span><strong>N</strong> new inbox</span>
          <span><strong>F</strong> focus now</span>
        </div>
      </div>
    </aside>

    <main class="main">
      <header class="topbar">
        <div>
          <h2 id="viewTitle">Today</h2>
          <p id="viewSubtitle">Know what to do in 10 seconds.</p>
        </div>
        <div class="topbar-actions">
          <button class="ghost" id="exportBtn">Export</button>
          <button class="ghost" id="importBtn">Import</button>
        </div>
      </header>

      <section id="viewToday" class="view active">
        <div class="energy-selector">
          <span>Energy state</span>
          <button class="energy-button" data-energy="green">Green</button>
          <button class="energy-button active" data-energy="yellow">Yellow</button>
          <button class="energy-button" data-energy="red">Red</button>
        </div>

        <div class="today-quick-add">
          <input id="todayQuickInput" type="text" placeholder="Add a Today-only quick win..." />
          <button class="secondary" id="todayQuickAddBtn">Add Quick Win</button>
        </div>

        <div class="grid">
          <div class="panel">
            <div class="panel-header">
              <h3>Top 3 Today</h3>
              <span class="pill">Max 3</span>
            </div>
            <div id="topThreeList" class="task-list"></div>
          </div>

          <div class="panel">
            <div class="panel-header">
              <h3>Quick Wins</h3>
              <span class="pill">Max 5</span>
            </div>
            <div id="quickWinsList" class="task-list"></div>
          </div>

          <div class="panel">
            <div class="panel-header">
              <h3>Routines</h3>
            </div>
            <div id="todayRoutines" class="routine-list"></div>
          </div>

          <div class="panel">
            <div class="panel-header">
              <h3>Done Today</h3>
              <span class="pill" id="doneCount">0</span>
            </div>
            <div id="doneList" class="task-list done"></div>
          </div>
        </div>

        <div class="today-actions">
          <button class="primary" id="startNowBtn">Start Now</button>
          <button class="secondary" id="shutdownBtn">Shutdown for today</button>
        </div>
      </section>

      <section id="viewInbox" class="view">
        <div class="panel">
          <div class="panel-header">
            <h3>Brain Dump</h3>
            <span class="pill">Fast add</span>
          </div>
          <div class="inbox-input">
            <input id="inboxInput" type="text" placeholder="Capture anything in one line..." />
            <button class="primary" id="inboxAddBtn">Add</button>
          </div>
          <div id="inboxList" class="task-list"></div>
        </div>
      </section>

      <section id="viewWeek" class="view">
        <div class="week-header">
          <div class="panel">
            <h3>Weekly Themes</h3>
            <div class="themes">
              <input type="text" placeholder="Theme 1" class="theme-input" data-theme="0" />
              <input type="text" placeholder="Theme 2" class="theme-input" data-theme="1" />
              <input type="text" placeholder="Theme 3" class="theme-input" data-theme="2" />
            </div>
          </div>
          <div class="panel">
            <h3>Progress Target</h3>
            <div class="progress-meta">
              <span>Work hours target:</span>
              <strong>4 hours / weekday</strong>
            </div>
            <label class="inline">
              Logged hours this week
              <input type="number" min="0" step="0.25" id="hoursLogged" />
            </label>
            <div id="progressIndicator" class="progress-indicator"></div>
          </div>
        </div>

        <div class="week-grid" id="weekGrid"></div>
      </section>

      <section id="viewRoutines" class="view">
        <div class="panel">
          <div class="panel-header">
            <h3>Routines</h3>
            <button class="ghost" id="resetRoutines">Reset to defaults</button>
          </div>
          <div id="routineList" class="routine-grid"></div>
        </div>
      </section>

      <section id="viewHistory" class="view">
        <div class="panel">
          <div class="panel-header">
            <h3>History & Insights</h3>
          </div>
          <div id="historySummary" class="history-summary"></div>
          <div id="historyList" class="history-list"></div>
        </div>
      </section>

      <section id="viewSettings" class="view">
        <div class="panel">
          <div class="panel-header">
            <h3>Settings</h3>
          </div>
          <div class="settings-grid">
            <div>
              <h4>Theme</h4>
              <button id="themeToggle" class="secondary">Toggle Light/Dark</button>
            </div>
            <div>
              <h4>Categories</h4>
              <div id="categoryList" class="category-list"></div>
              <div class="category-add">
                <input id="newCategoryName" type="text" placeholder="New category name" />
                <select id="newCategoryMode">
                  <option value="work">Work</option>
                  <option value="private">Private</option>
                </select>
                <button class="ghost" id="addCategoryBtn">Add</button>
              </div>
            </div>
            <div>
              <h4>Import/Export</h4>
              <button class="ghost" id="settingsExport">Export JSON</button>
              <label class="file-input">
                Import JSON
                <input type="file" id="settingsImport" accept="application/json" />
              </label>
            </div>
          </div>
        </div>
      </section>
    </main>
  </div>

  <div id="focusModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Focus Mode</h3>
        <button class="ghost" id="focusClose">Exit</button>
      </div>
      <div id="focusTask" class="focus-task"></div>
      <div class="modal-actions">
        <button class="primary" id="focusDone">Done</button>
        <button class="secondary" id="focusPause">Pause</button>
        <button class="ghost" id="focusStuck">I'm stuck</button>
        <button class="ghost" id="focusSwitch">Switch to quick win</button>
      </div>
    </div>
  </div>

  <div id="shutdownModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Shutdown Ritual</h3>
        <button class="ghost" id="shutdownClose">Close</button>
      </div>
      <div class="shutdown-body">
        <p>Review what you completed and migrate anything unfinished.</p>
        <div id="shutdownDone" class="task-list done"></div>
        <label>
          Choose 1 task for tomorrow
          <select id="tomorrowSelect"></select>
        </label>
      </div>
      <div class="modal-actions">
        <button class="primary" id="shutdownConfirm">Set for tomorrow</button>
      </div>
    </div>
  </div>

  <div id="detailModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Task Detail</h3>
        <button class="ghost" id="detailClose">Close</button>
      </div>
      <div id="detailBody" class="detail-body"></div>
      <div class="modal-actions">
        <button class="primary" id="detailStart">Start Task</button>
      </div>
    </div>
  </div>

  <div id="timerWidget" class="timer-widget">
    <div class="timer-header">
      <strong>Global Timer</strong>
      <button class="ghost" id="timerReset">Reset</button>
    </div>
    <div class="timer-display" id="timerDisplay">25:00</div>
    <div class="timer-controls">
      <select id="timerPreset">
        <option value="5">5 min</option>
        <option value="10">10 min</option>
        <option value="15">15 min</option>
        <option value="25" selected>25 min</option>
        <option value="45">45 min</option>
        <option value="60">60 min</option>
      </select>
      <button class="primary" id="timerStart">Start</button>
      <button class="secondary" id="timerPause">Pause</button>
    </div>
    <label>
      Link to task (optional)
      <select id="timerLink"></select>
    </label>
  </div>

  <input type="file" id="importFile" accept="application/json" hidden />
  <script src="app.js"></script>
</body>
</html>
